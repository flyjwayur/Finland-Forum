(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(175)},105:function(e,t,a){},106:function(e,t,a){},109:function(e,t,a){},147:function(e,t,a){},149:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(15),l=a.n(r),i=(a(105),a(43)),c=a(44),s=a(49),m=a(45),d=a(50),u=(a(106),a(179)),p=a(95),f=a(177),E=a(180),b=a(90),h=a(91),y=a(3),g=a(66),_=(a(109),function(e){var t=e.posts,a=function(e){var t=e.post;return o.a.createElement(y.c,{key:t.id},o.a.createElement(g.a,{to:"/posts/".concat(t.id),style:{textDecoration:"none"}},o.a.createElement(y.d,{className:"cardBody"},o.a.createElement(y.j,{className:"cardText"},t.title),o.a.createElement(y.h,{className:"cardText"},t.category))))},n=t.map(function(e){return o.a.createElement("div",{key:e.id,className:"container col-12 col-md-5"},o.a.createElement(a,{post:e}))});return o.a.createElement("div",{className:"wrapper"},o.a.createElement(y.m,{fluid:!0},o.a.createElement(y.t,null,o.a.createElement(y.k,{xs:"auto",tag:"h3"},"Hello, HyeSoo : D ,")),o.a.createElement(y.t,null,o.a.createElement(y.k,{xs:"auto",tag:"h3"},"How is ",o.a.createElement("span",{className:"highlightText"}," ' your day in Finland '"),"?")),o.a.createElement(y.t,null,o.a.createElement(y.k,null,o.a.createElement(g.a,{to:"/posts/newpost"},o.a.createElement(b.a,{icon:h.a,className:"addPost"}))))),o.a.createElement(y.t,null,o.a.createElement(y.k,{xs:"12",sm:"12"},o.a.createElement("ul",{className:"postsWrapper"},n))))}),v=a(11),N=a(7),O=a.n(N),P=a(20),w=a.n(P),x=function(e){var t=e.handleSave,a=e.posts;return o.a.createElement("div",{className:w.a.post_wrapper},o.a.createElement(y.n,{className:w.a.jumbotron_hightlight},o.a.createElement(v.LocalForm,{model:"inputs",onSubmit:function(n){return function(n){var o=n.title,r=n.category,l=n.body,i=a.length+1;t({id:i,title:o,category:r,body:l}),e.history.push("/")}(n)}},o.a.createElement(y.t,{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},o.a.createElement("span",{className:O.a.content_title},"Title :")),o.a.createElement(v.Control.text,{model:"inputs.title",id:"title",name:"title",placeholder:"ex) My day",className:"form-control",autoFocus:!0,required:!0})),o.a.createElement(y.t,{className:"form-group"},o.a.createElement("label",{htmlFor:"category"},o.a.createElement("span",{className:O.a.content_title},"Category :")),o.a.createElement(v.Control.text,{model:"inputs.category",name:"category",id:"category",placeholder:"ex) work",className:"form-control",required:!0})),o.a.createElement(y.t,{className:"form-group"},o.a.createElement("label",{htmlFor:"body"},o.a.createElement("span",{className:O.a.content_title},"Write New Post:")),o.a.createElement(v.Control.textarea,{model:"inputs.body",id:"body",rows:"10",cols:"60",name:"body",placeholder:"ex) I was happy to do something",className:"form-control",required:!0})),o.a.createElement("button",{type:"submit",className:O.a.edit_button},"Save"),o.a.createElement(g.a,{to:"/"},o.a.createElement("button",{type:"cancel",className:w.a.delete_button},"Cancel")))))},j=function(e){var t=e.editable,a=e.post,r=e.onActivePostEdit,l=e.handleEditSubmit,i=t?o.a.createElement("button",{className:O.a.edit_button,onClick:function(){return r(a)}},"Update"):o.a.createElement("button",{className:O.a.edit_button,onClick:function(){return r(a)}},"Edit");return console.log(t),t?o.a.createElement(F,{post:a,handleEditSubmit:l,editable:t,onActivePostEdit:r,editOrUpdateBtnToggle:i}):o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:O.a.content_row}," ",o.a.createElement("span",{className:O.a.content_title},"Title :")," ",a.title),o.a.createElement("div",{className:O.a.content_row}," ",o.a.createElement("span",{className:O.a.content_title},"Category :")," ",a.category),o.a.createElement("div",{className:[O.a.content_row,O.a.content_body].join(" ")},a.body),i)},F=function(e){var t=e.post,a=e.handleEditSubmit,n=e.editOrUpdateBtnToggle;return o.a.createElement(v.LocalForm,{model:"inputs",onSubmit:function(e){return a(t,e)}},o.a.createElement(y.t,{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},o.a.createElement("span",{className:O.a.content_title},"Title :")),o.a.createElement(v.Control.text,{model:"inputs.title",id:"title",name:"title",placeholder:t.title,defaultValue:t.title,className:"form-control",autoFocus:!0,required:!0})),o.a.createElement(y.t,{className:"form-group"},o.a.createElement("label",{htmlFor:"category"},o.a.createElement("span",{className:O.a.content_title},"Category :")," "),o.a.createElement(v.Control.text,{model:"inputs.category",name:"category",id:"category",placeholder:t.category,defaultValue:t.category,className:"form-control",required:!0})),o.a.createElement(y.t,{className:"form-group"},o.a.createElement("label",{htmlFor:"body"},o.a.createElement("span",{className:O.a.content_title},"Write New Post :")),o.a.createElement(v.Control.textarea,{model:"inputs.body",id:"body",rows:"10",cols:"60",name:"body",placeholder:t.body,defaultValue:t.body,className:"form-control",required:!0})),n)},T=function(e){var t=e.post,a=e.handleDelete,n=e.history,r=e.onActivePostEdit,l=e.editable,i=e.handleEditSubmit;return o.a.createElement("div",{className:w.a.post_wrapper},o.a.createElement("div",null,o.a.createElement(y.a,{className:"row"},o.a.createElement(y.b,null,o.a.createElement(g.a,{className:"text-info",to:"/"},"Home")),o.a.createElement(y.b,{active:!0},t.title))),o.a.createElement(y.n,{className:w.a.jumbotron_hightlight},o.a.createElement(j,{editable:l,post:t,onActivePostEdit:r,handleEditSubmit:i}),o.a.createElement("button",{className:w.a.delete_button,onClick:function(){return function(e){a(e),n.push("/")}(t)}},"Delete")))},S=a(33),k=a(176),D=(a(147),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(S.a)(Object(S.a)(a))),a.state={isOpen:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(y.q,{light:!0,expand:"md"},o.a.createElement(y.r,{id:"navBrand",href:"/"},"Finland Forum"),o.a.createElement(y.s,{onClick:this.toggle}),o.a.createElement(y.l,{isOpen:this.state.isOpen,navbar:!0},o.a.createElement(y.o,{className:"ml-auto",navbar:!0},o.a.createElement(y.p,null,o.a.createElement(k.a,{className:"navLink",to:"/",activeStyle:{fontWeight:"bold",textDecoration:"none"}},"Home")),o.a.createElement(y.p,null,o.a.createElement(k.a,{className:"navLink",to:"/posts/newpost",activeStyle:{fontWeight:"bold",textDecoration:"none"}},"New Post")),o.a.createElement(y.p,null,o.a.createElement(k.a,{className:"navLink",to:"/Info",activeStyle:{fontWeight:"bold",textDecoration:"none"}},"Info"))))))}}]),t}(n.Component)),C=(a(149),a(96)),A=a.n(C),I=function(e){var t=e.info;return o.a.createElement(y.e,{className:"card_wrapper"},function(e){return e.map(function(e){var t=e.id?e.id:A.a.v4(),a=e.images[0]?e.images[0].url:"",n=e.images.name,r=e.external_links[0]?e.external_links[0].link:"/info",l=e.start_time?e.start_time.replace("T",", ").replace(":00Z"," "):"",i=e.end_time?e.end_time.replace("T",", ").replace(":00Z"," "):"",c=e.location_extra_info?e.location_extra_info.fi:"location info comes :D",s=e.last_modified_time?e.last_modified_time.replace("T"," ").replace(/[.]+[0-9]+[Z]/g," "):"Last updated 3 mins ago";return o.a.createElement(y.c,{key:t,className:"infoCard"},o.a.createElement(y.f,{style:{backgroundColor:"#f7cb15",color:"#364652",fontWeight:800,fontSize:"1.3rem"}},e.name.en?e.name.en:e.name.fi?e.name.fi:"Title"),o.a.createElement("img",{width:"100%",src:a,alt:n}),o.a.createElement(y.d,null,o.a.createElement(y.i,null,e.short_description&&e.short_description.en?e.short_description.en:e.short_description&&e.short_description.fi?e.short_description.fi:"Event description"),o.a.createElement(y.i,null,o.a.createElement("span",{className:"textTitle"},"Date :")," ",l," ~ ",i),o.a.createElement(y.i,null,o.a.createElement("span",{className:"textTitle"},"Location :")," ",c),o.a.createElement(y.i,null,o.a.createElement("span",{className:"textTitle"},"Price :")," ",function(){if(e.offers[0]&&!0===e.offers[0].is_free){if(e.offers[0].is_free)return"free";if(!1===e.offers[0].is_free)return e.offers[0].price.fi||e.offers[0].price.en}return"event price .."}()),o.a.createElement(y.i,{className:"timeToRight"},o.a.createElement("small",{className:"text-muted"},"Last updated time :",s)),o.a.createElement(y.g,{href:"".concat(r)},"More info..")))})}(t))},q=a(14),M=a(68),L=a.n(M),W=a(97),R=a(98),U=a.n(R),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleSave=function(e){a.props.onAddPost(e)},a.handleDelete=function(e){a.props.onDeletePost(e)},a.handleActivePostEdit=function(e){a.props.onActivePostEdit(e)},a.handleEditSubmit=function(e,t){var n={id:e.id,title:t.title,category:t.category,body:t.body};console.log(n),a.props.onUpdatePost(n)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchInfoFromApi()}},{key:"componentDidUpdate",value:function(){console.log({posts:this.props.posts,title:this.props.title,category:this.props.category,body:this.props.body,length:this.props.posts.length,editable:this.props.editable})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(D,null),o.a.createElement("div",{className:"appWrapper"},o.a.createElement("div",{className:"appMain"},o.a.createElement(u.a,null,o.a.createElement(p.a,{exact:!0,path:"/",component:function(){return o.a.createElement(_,{posts:e.props.posts})}}),o.a.createElement(p.a,{exact:!0,path:"/posts/newpost",render:function(t){return o.a.createElement(x,Object.assign({handleSave:e.handleSave,posts:e.props.posts},t))}}),o.a.createElement(p.a,{exact:!0,path:"/info",render:function(t){return o.a.createElement(I,Object.assign({info:e.props.fetchedInfo},t))}}),o.a.createElement(p.a,{exact:!0,path:"/posts/:postId",component:function(t){var a=t.match,n=t.history;return o.a.createElement(T,{post:e.props.posts.find(function(e){return e.id===parseInt(a.params.postId,10)}),handleDelete:e.handleDelete,onActivePostEdit:e.handleActivePostEdit,editable:e.props.editable,handleEditSubmit:e.handleEditSubmit,handleEditChange:e.handleEditChange,history:n})}}),o.a.createElement(f.a,{to:"/"})))))}}]),t}(n.Component),B=Object(E.a)(Object(q.connect)(function(e){return{posts:e.updatedPosts.posts,title:e.newPostForm.title,category:e.newPostForm.category,body:e.newPostForm.body,editable:e.updatedPosts.editable,fetchedInfo:e.fetchedInfoFromApi}},function(e){return{onAddPost:function(t){return e({type:"ADD_POST",payload:t})},onDeletePost:function(t){return e(function(e){return{type:"DELETE_POST",payload:e}}(t))},onActivePostEdit:function(t){return e(function(e){return{type:"ACTIVE_POST_EDIT",payload:e}}(t))},onUpdatePost:function(t){return e(function(e){return{type:"UPDATE_POST",payload:e}}(t))},onFetchInfoFromApi:function(){return e(function(){var e=Object(W.a)(L.a.mark(function e(t){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:U.a.get("https://api.hel.fi/linkedevents/v1/event/").then(function(e){return t({type:"FETCH_INFO_FROM_API",payload:e.data.data})}).then(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(H)),V=a(178),Z=(a(173),a(21)),z=a(18),J=a(22),G={posts:[{id:1,title:"My day in Integrify",category:"Work",body:"quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"},{id:2,title:"My talk at React Meetup",category:"Speech",body:"est rerum tempore vitae\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\nqui aperiam non debitis possimus qui neque nisi nulla"},{id:3,title:"Fun at the beach",category:"Recreation",body:"et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut"},{id:4,title:"Running in the forest",category:"Sport",body:"ullam et saepe reiciendis voluptatem adipisci\nsit amet autem assumenda provident rerum culpa\nquis hic commodi nesciunt rem tenetur doloremque ipsam iure\nquis sunt voluptatem rerum illo velit"}],editable:!1},K=(a(174),Object(z.combineReducers)(Object(Z.a)({updatedPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(Z.a)({},e,{posts:[].concat(Object(J.a)(e.posts),[t.payload])});case"DELETE_POST":var a=t.payload.id,n=e.posts.findIndex(function(e){return e.id===a});return Object(Z.a)({},e,{posts:[].concat(Object(J.a)(e.posts.slice(0,n)),Object(J.a)(e.posts.slice(n+1,e.posts.length)))});case"ACTIVE_POST_EDIT":var o=t.payload.id;return e.posts.map(function(t){t.id===o&&(e.editable=!0)}),Object(Z.a)({},e,{editable:e.editable});case"UPDATE_POST":var r=e.posts.findIndex(function(e){return e.id===t.payload.id}),l=Object(J.a)(e.posts)[r]=t.payload;return Object(Z.a)({},e,{editable:!1,posts:[].concat(Object(J.a)(e.posts.slice(0,r)),[l],Object(J.a)(e.posts.slice(r+1,e.posts.length)))});default:return e}},fetchedInfoFromApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"FETCH_INFO_FROM_API"===t.type?t.payload:e}},Object(v.createForms)({newPostForm:{title:"",category:"",body:""}})))),X=Object(z.createStore)(K,!1),Q=o.a.createElement(q.Provider,{store:X},o.a.createElement(V.a,{basename:"/Finland-Forum"},o.a.createElement(B,null)));l.a.render(Q,document.getElementById("root"))},20:function(e,t,a){e.exports={post_wrapper:"viewPostPage_post_wrapper__3XMDK",jumbotron_hightlight:"viewPostPage_jumbotron_hightlight__37f9M",delete_button:"viewPostPage_delete_button__1z7RP"}},7:function(e,t,a){e.exports={content_row:"editable_content_row__14bq3",content_title:"editable_content_title__k5zd2",edit_button:"editable_edit_button__3aOGZ",content_body:"editable_content_body__1FCwc"}}},[[100,1,2]]]);
//# sourceMappingURL=main.d5e34733.chunk.js.map