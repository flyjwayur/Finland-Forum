(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(174)},105:function(e,t,a){},106:function(e,t,a){},109:function(e,t,a){},147:function(e,t,a){},149:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(16),l=a.n(r),c=(a(105),a(42)),i=a(43),s=a(48),m=a(44),d=a(49),u=(a(106),a(178)),p=a(94),E=a(176),f=a(179),b=a(89),h=a(90),y=a(3),v=a(65),_=(a(109),function(e){var t=e.posts,a=function(e){var t=e.post;return o.a.createElement(y.c,{key:t.id},o.a.createElement(v.a,{to:"/posts/".concat(t.id),style:{textDecoration:"none"}},o.a.createElement(y.d,{className:"cardBody"},o.a.createElement(y.j,{className:"cardText"},t.title),o.a.createElement(y.h,{className:"cardText"},t.category))))},n=t.map(function(e){return o.a.createElement("div",{key:e.id,className:"container col-12 col-md-5"},o.a.createElement(a,{post:e}))});return o.a.createElement("div",{className:"wrapper"},o.a.createElement(y.l,{fluid:!0},o.a.createElement("div",{className:"col-12"},o.a.createElement("h4",{className:"introFont introTextLeft"},"Hello, HyeSoo : D ,"),o.a.createElement("h4",{className:"introFont introTextRight"},"How is ",o.a.createElement("span",{className:"highlightText"}," ' your day in Finland '"),"?"),o.a.createElement(v.a,{to:"/posts/newpost"},o.a.createElement(b.a,{icon:h.a,className:"addPost"})))),o.a.createElement("ul",{className:"postsWrapper"},n))}),g=a(11),N=a(7),O=a.n(N),w=a(20),P=a.n(w),x=function(e){var t=e.handleSave,a=e.posts;return o.a.createElement("div",{className:P.a.post_wrapper},o.a.createElement(y.m,{className:P.a.jumbotron_hightlight},o.a.createElement(g.LocalForm,{model:"inputs",onSubmit:function(n){return function(n){var o=n.title,r=n.category,l=n.body,c=a.length+1;t({id:c,title:o,category:r,body:l}),e.history.push("/")}(n)}},o.a.createElement(y.s,{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},o.a.createElement("span",{className:O.a.content_title},"Title :")),o.a.createElement(g.Control.text,{model:"inputs.title",id:"title",name:"title",placeholder:"ex) My day",className:"form-control",autoFocus:!0,required:!0})),o.a.createElement(y.s,{className:"form-group"},o.a.createElement("label",{htmlFor:"category"},o.a.createElement("span",{className:O.a.content_title},"Category :")),o.a.createElement(g.Control.text,{model:"inputs.category",name:"category",id:"category",placeholder:"ex) work",className:"form-control",required:!0})),o.a.createElement(y.s,{className:"form-group"},o.a.createElement("label",{htmlFor:"body"},o.a.createElement("span",{className:O.a.content_title},"Write New Post:")),o.a.createElement(g.Control.textarea,{model:"inputs.body",id:"body",rows:"10",cols:"60",name:"body",placeholder:"ex) I was happy to do something",className:"form-control",required:!0})),o.a.createElement("button",{type:"submit",className:O.a.edit_button},"Save"),o.a.createElement(v.a,{to:"/"},o.a.createElement("button",{type:"cancel",className:P.a.delete_button},"Cancel")))))},T=function(e){var t=e.editable,a=e.post,r=e.onActivePostEdit,l=e.handleEditSubmit,c=t?o.a.createElement("button",{className:O.a.edit_button,onClick:function(){return r(a)}},"Update"):o.a.createElement("button",{className:O.a.edit_button,onClick:function(){return r(a)}},"Edit");return console.log(t),t?o.a.createElement(j,{post:a,handleEditSubmit:l,editable:t,onActivePostEdit:r,editOrUpdateBtnToggle:c}):o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:O.a.content_row}," ",o.a.createElement("span",{className:O.a.content_title},"Title :")," ",a.title),o.a.createElement("div",{className:O.a.content_row}," ",o.a.createElement("span",{className:O.a.content_title},"Category :")," ",a.category),o.a.createElement("div",{className:[O.a.content_row,O.a.content_body].join(" ")},a.body),c)},j=function(e){var t=e.post,a=e.handleEditSubmit,n=e.editOrUpdateBtnToggle;return o.a.createElement(g.LocalForm,{model:"inputs",onSubmit:function(e){return a(t,e)}},o.a.createElement(y.s,{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},o.a.createElement("span",{className:O.a.content_title},"Title :")),o.a.createElement(g.Control.text,{model:"inputs.title",id:"title",name:"title",placeholder:t.title,defaultValue:t.title,className:"form-control",autoFocus:!0,required:!0})),o.a.createElement(y.s,{className:"form-group"},o.a.createElement("label",{htmlFor:"category"},o.a.createElement("span",{className:O.a.content_title},"Category :")," "),o.a.createElement(g.Control.text,{model:"inputs.category",name:"category",id:"category",placeholder:t.category,defaultValue:t.category,className:"form-control",required:!0})),o.a.createElement(y.s,{className:"form-group"},o.a.createElement("label",{htmlFor:"body"},o.a.createElement("span",{className:O.a.content_title},"Write New Post :")),o.a.createElement(g.Control.textarea,{model:"inputs.body",id:"body",rows:"10",cols:"60",name:"body",placeholder:t.body,defaultValue:t.body,className:"form-control",required:!0})),n)},F=function(e){var t=e.post,a=e.handleDelete,n=e.history,r=e.onActivePostEdit,l=e.editable,c=e.handleEditSubmit;return o.a.createElement("div",{className:P.a.post_wrapper},o.a.createElement("div",null,o.a.createElement(y.a,{className:"row"},o.a.createElement(y.b,null,o.a.createElement(v.a,{className:"text-info",to:"/"},"Home")),o.a.createElement(y.b,{active:!0},t.title))),o.a.createElement(y.m,{className:P.a.jumbotron_hightlight},o.a.createElement(T,{editable:l,post:t,onActivePostEdit:r,handleEditSubmit:c}),o.a.createElement("button",{className:P.a.delete_button,onClick:function(){return function(e){a(e),n.push("/")}(t)}},"Delete")))},k=a(175),S=(a(147),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isNavOpen:!1},a.toggleNav=function(){a.setState({isNavOpen:!a.state.isNavOpen})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(y.p,{expand:"md",className:"navBar"},o.a.createElement(y.q,{id:"navBrand",href:"/"},"Finland Forum"),o.a.createElement(y.r,{onClick:this.toggleNav}),o.a.createElement(y.k,{isOpen:this.state.isNavOpen,navbar:!0},o.a.createElement(y.n,{className:"ml-auto",navbar:!0},o.a.createElement(y.o,null,o.a.createElement(k.a,{className:"nav-link",to:"/"},o.a.createElement("span",{className:"navLink"}," Home "))),o.a.createElement(y.o,{className:""},o.a.createElement(k.a,{className:".navLink nav-link",to:"/posts/newpost"},o.a.createElement("span",{className:"navLink"}," New Post "))),o.a.createElement(y.o,{className:""},o.a.createElement(k.a,{className:".navLink nav-link",to:"/Info"},o.a.createElement("span",{className:"navLink"}," Info")))))))}}]),t}(n.Component)),A=(a(149),a(95)),C=a.n(A),D=function(e){var t=e.info;return o.a.createElement(y.e,{className:"card_wrapper"},function(e){return e.map(function(e){var t=e.id?e.id:C.a.v4(),a=e.images[0]?e.images[0].url:"",n=e.images.name,r=e.external_links[0]?e.external_links[0].link:"/info",l=e.start_time?e.start_time.replace("T",", ").replace(":00Z"," "):"",c=e.end_time?e.end_time.replace("T",", ").replace(":00Z"," "):"",i=e.location_extra_info?e.location_extra_info.fi:"location info comes :D",s=e.last_modified_time?e.last_modified_time.replace("T"," ").replace(/[.]+[0-9]+[Z]/g," "):"Last updated 3 mins ago";return o.a.createElement(y.c,{key:t,className:"infoCard"},o.a.createElement(y.f,{style:{backgroundColor:"#f7cb15",color:"#364652",fontWeight:800,fontSize:"1.3rem"}},e.name.en?e.name.en:e.name.fi?e.name.fi:"Title"),o.a.createElement("img",{width:"100%",src:a,alt:n}),o.a.createElement(y.d,null,o.a.createElement(y.i,null,e.short_description&&e.short_description.en?e.short_description.en:e.short_description&&e.short_description.fi?e.short_description.fi:"Event description"),o.a.createElement(y.i,null,o.a.createElement("span",{className:"textTitle"},"Date :")," ",l," ~ ",c),o.a.createElement(y.i,null,o.a.createElement("span",{className:"textTitle"},"Location :")," ",i),o.a.createElement(y.i,null,o.a.createElement("span",{className:"textTitle"},"Price :")," ",function(){if(e.offers[0]&&!0===e.offers[0].is_free){if(e.offers[0].is_free)return"free";if(!1===e.offers[0].is_free)return e.offers[0].price.fi||e.offers[0].price.en}return"event price .."}()),o.a.createElement(y.i,{className:"timeToRight"},o.a.createElement("small",{className:"text-muted"},"Last updated time :",s)),o.a.createElement(y.g,{href:"".concat(r)},"More info..")))})}(t))},I=a(15),q=a(67),L=a.n(q),M=a(96),R=a(97),U=a.n(R),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleSave=function(e){a.props.onAddPost(e)},a.handleDelete=function(e){a.props.onDeletePost(e)},a.handleActivePostEdit=function(e){a.props.onActivePostEdit(e)},a.handleEditSubmit=function(e,t){var n={id:e.id,title:t.title,category:t.category,body:t.body};console.log(n),a.props.onUpdatePost(n)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchInfoFromApi()}},{key:"componentDidUpdate",value:function(){console.log({posts:this.props.posts,title:this.props.title,category:this.props.category,body:this.props.body,length:this.props.posts.length,editable:this.props.editable})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(S,null),o.a.createElement("div",{className:"appWrapper"},o.a.createElement("div",{className:"appMain"},o.a.createElement(u.a,null,o.a.createElement(p.a,{exact:!0,path:"/",component:function(){return o.a.createElement(_,{posts:e.props.posts})}}),o.a.createElement(p.a,{exact:!0,path:"/posts/newpost",render:function(t){return o.a.createElement(x,Object.assign({handleSave:e.handleSave,posts:e.props.posts},t))}}),o.a.createElement(p.a,{exact:!0,path:"/info",render:function(t){return o.a.createElement(D,Object.assign({info:e.props.fetchedInfo},t))}}),o.a.createElement(p.a,{exact:!0,path:"/posts/:postId",component:function(t){var a=t.match,n=t.history;return o.a.createElement(F,{post:e.props.posts.find(function(e){return e.id===parseInt(a.params.postId,10)}),handleDelete:e.handleDelete,onActivePostEdit:e.handleActivePostEdit,editable:e.props.editable,handleEditSubmit:e.handleEditSubmit,handleEditChange:e.handleEditChange,history:n})}}),o.a.createElement(E.a,{to:"/"})))))}}]),t}(n.Component),B=Object(f.a)(Object(I.connect)(function(e){return{posts:e.updatedPosts.posts,title:e.newPostForm.title,category:e.newPostForm.category,body:e.newPostForm.body,editable:e.updatedPosts.editable,fetchedInfo:e.fetchedInfoFromApi}},function(e){return{onAddPost:function(t){return e({type:"ADD_POST",payload:t})},onDeletePost:function(t){return e(function(e){return{type:"DELETE_POST",payload:e}}(t))},onActivePostEdit:function(t){return e(function(e){return{type:"ACTIVE_POST_EDIT",payload:e}}(t))},onUpdatePost:function(t){return e(function(e){return{type:"UPDATE_POST",payload:e}}(t))},onFetchInfoFromApi:function(){return e(function(){var e=Object(M.a)(L.a.mark(function e(t){var a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,U.a.get("https://api.hel.fi/linkedevents/v1/event/");case 4:a=e.sent,t({type:"FETCH_INFO_FROM_API",payload:a.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}}})(H)),W=a(177),V=(a(173),a(21)),Z=a(13),z=a(22),J={posts:[{id:1,title:"My day in Integrify",category:"Work",body:"quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"},{id:2,title:"My talk at React Meetup",category:"Speech",body:"est rerum tempore vitae\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\nqui aperiam non debitis possimus qui neque nisi nulla"},{id:3,title:"Fun at the beach",category:"Recreation",body:"et iusto sed quo iure\nvoluptatem occaecati omnis eligendi aut ad\nvoluptatem doloribus vel accusantium quis pariatur\nmolestiae porro eius odio et labore et velit aut"},{id:4,title:"Running in the forest",category:"Sport",body:"ullam et saepe reiciendis voluptatem adipisci\nsit amet autem assumenda provident rerum culpa\nquis hic commodi nesciunt rem tenetur doloremque ipsam iure\nquis sunt voluptatem rerum illo velit"}],editable:!1},G=a(99),K=Object(Z.compose)(Object(Z.applyMiddleware)(G.a),window.devToolsExtension&&window.devToolsExtension()),X=Object(Z.combineReducers)(Object(V.a)({updatedPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(V.a)({},e,{posts:[].concat(Object(z.a)(e.posts),[t.payload])});case"DELETE_POST":var a=t.payload.id,n=e.posts.findIndex(function(e){return e.id===a});return Object(V.a)({},e,{posts:[].concat(Object(z.a)(e.posts.slice(0,n)),Object(z.a)(e.posts.slice(n+1,e.posts.length)))});case"ACTIVE_POST_EDIT":var o=t.payload.id;return e.posts.map(function(t){t.id===o&&(e.editable=!0)}),Object(V.a)({},e,{editable:e.editable});case"UPDATE_POST":var r=e.posts.findIndex(function(e){return e.id===t.payload.id}),l=Object(z.a)(e.posts)[r]=t.payload;return Object(V.a)({},e,{editable:!1,posts:[].concat(Object(z.a)(e.posts.slice(0,r)),[l],Object(z.a)(e.posts.slice(r+1,e.posts.length)))});default:return e}},fetchedInfoFromApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"FETCH_INFO_FROM_API"===t.type?t.payload:e}},Object(g.createForms)({newPostForm:{title:"",category:"",body:""}}))),Q=Object(Z.createStore)(X,K),Y=o.a.createElement(I.Provider,{store:Q},o.a.createElement(W.a,{basename:"/Finland-Forum"},o.a.createElement(B,null)));l.a.render(Y,document.getElementById("root"))},20:function(e,t,a){e.exports={post_wrapper:"viewPostPage_post_wrapper__3XMDK",jumbotron_hightlight:"viewPostPage_jumbotron_hightlight__37f9M",delete_button:"viewPostPage_delete_button__1z7RP"}},7:function(e,t,a){e.exports={content_row:"editable_content_row__14bq3",content_title:"editable_content_title__k5zd2",edit_button:"editable_edit_button__3aOGZ",content_body:"editable_content_body__1FCwc"}}},[[100,1,2]]]);
//# sourceMappingURL=main.41a7be74.chunk.js.map